webpackJsonp([6],{"./src/components/GuideSidebar.js":function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.constructTree=t.fixPath=t.sidebarFragment=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("./node_modules/react/react.js"),u=r(s),d=n("./src/components/Link.js"),h=r(d),f=n("./src/utils/colors.js"),p=function(t){function n(){var e,t,r,a;o(this,n);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(c))),r.state={closed:!0},a=t,i(r,a)}return a(n,t),c(n,[{key:"componentWillReceiveProps",value:function(e){e.current!==this.props.current&&this.setState({closed:!0})}},{key:"render",value:function(){var t=this;return e.createElement("div",{css:g.container},e.createElement("div",{css:g.navToggle,onClick:function(){return t.setState({closed:!t.state.closed})}},"Navigation"),e.createElement("div",{css:[g.contents,this.state.closed&&g.hiddenContents]},e.createElement(h.default,{to:this.props.search},"Search"),e.createElement(m,{current:this.props.current,item:this.props.root,root:!0,depth:0})))}}]),n}(u.default.Component);t.default=p;var m=function t(n){var r=n.current,o=n.root,i=n.item,a=i.title,l=i.relativePath,c=i.children,s=n.depth,u=[g.link,g["link"+s],l===r&&g.currentLink];return c.length?e.createElement("div",{css:[g.node,o&&g.rootNode]},o?null:e.createElement(h.default,{to:l,css:u},a),e.createElement("ul",{css:[g.children,o&&g.rootChildren]},c.map(function(n){return e.createElement("li",{style:g.li,key:n.relativePath},e.createElement(t,{current:r,item:n,depth:s+1}))}))):e.createElement(h.default,{css:[g.node,u],to:l},a)},g=(t.sidebarFragment="** extracted graphql fragment **",{container:{width:200,fontSize:14,lineHeight:"14px","@media(max-width: 800px)":{width:"auto"}},contents:{padding:"2em"},hiddenContents:{"@media(max-width: 800px)":{display:"none"}},navToggle:{backgroundColor:"#444",color:"white",padding:"1em 2em",alignSelf:"stretch",display:"none",cursor:"pointer","@media(max-width: 800px)":{display:"flex"}},node:{},li:{margin:0,padding:0},link:{textDecoration:"none",color:"currentColor",lineHeight:"1.2em",paddingBottom:3,paddingTop:5,display:"block"},currentLink:{textDecoration:"underline",textDecorationColor:f.accent,color:f.accent},link1:{fontWeight:"bold",fontSize:"1.2em",lineHeight:"1.2em"},rootNode:{},children:{listStyle:"none",margin:0,padding:0,paddingLeft:15,marginLeft:0,borderLeft:"1px solid #aaa"},rootChildren:{borderLeft:"none",marginLeft:0,paddingLeft:0}}),b=t.fixPath=function(e){return e.match(/\/index\.md$/)?"/"+e.slice(0,-"/index.md".length):"/"+e.slice(0,-".md".length)},v=function(e){return e.map(function(e){var t=e.relativePath,n=e.childMarkdownRemark.frontmatter,r=n.title,o=n.order;return{relativePath:b(t),title:r,order:o}})},y=function(e){return Object.keys(e).map(function(t){return e[t]})},x=function e(t){return l({},t,{children:y(t.children).sort(function(e,t){return e.order-t.order}).map(e)})};t.constructTree=function(e,t){var n={children:{}};return v(t).forEach(function(e){var t=e.relativePath,r=e.title,o=e.order,i=t.split(/\//g).slice(1),a=i.pop(),c=n;i.forEach(function(e){c.children[e]||(c.children[e]={children:{}}),c=c.children[e]}),c.children[a]=l({children:{}},c.children[a],{relativePath:t,title:r,order:o})}),x(n.children[e])}}).call(t,n("./node_modules/glamor-react/lib/index.js"))},'./node_modules/babel-loader/lib/index.js?{"plugins":["/Users/chenglou/Github/reasonml.github.io/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js","add-module-exports","add-module-exports","transform-object-assign",["transform-react-jsx",{"pragma":"Glamor.createElement"}],"babel-plugin-glamor"],"presets":["/Users/chenglou/Github/reasonml.github.io/node_modules/babel-preset-env/lib/index.js","/Users/chenglou/Github/reasonml.github.io/node_modules/babel-preset-stage-0/lib/index.js","/Users/chenglou/Github/reasonml.github.io/node_modules/babel-preset-react/lib/index.js"],"cacheDirectory":true}!./src/templates/Search.js':function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.pageQuery=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("./node_modules/react/react.js"),s=r(c),u=n("./node_modules/react-helmet/lib/Helmet.js"),d=r(u),h=n("./src/components/Section.js"),f=r(h),p=n("./src/components/GuideSidebar.js"),m=r(p),g=n("./src/utils/colors.js"),b=n("./src/components/Link.js"),v=r(b),y=n("./src/components/Header.js"),x=r(y),E=function e(t,n){[].forEach.call(t.childNodes,function(r){var o=n(r);o?t.replaceChild(o,r):e(r,n)})},j=function(e,t){E(e,function(e){if("#text"===e.nodeName&&e.nodeValue.match(t)){var n=document.createElement("span");return n.innerHTML=e.nodeValue.replace(t,function(e){return'<span class="search-highlighted-result">'+e+"</span>"}),n}})},w=function(e,t){var n=document.createElement("div");n.innerHTML=e;var r=[null];return[].forEach.call(n.childNodes,function(e){e.textContent.match(t)?(j(e,t),r.push(e.outerHTML)):null!==r[r.length-1]&&r.push(null)}),null===r[0]&&r.shift(),null===r[r.length-1]&&r.pop(),r.map(function(e){return null===e?'<p class="search-elided-section">...</p>':e}).join("\n")},_=function(e,t){var n=new RegExp(t,"ig");return e.filter(function(e){var t=e.node.childMarkdownRemark,r=t.html,o=t.frontmatter.title;if(o.match(n)||r.match(n))return!0}).map(function(e){var n=e.node,r=n.relativePath,o=n.childMarkdownRemark,i=o.html,a=o.frontmatter.title;return{relativePath:r,html:w(i,t),title:a}})},k=function(t){function n(e){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));P.call(t);var r=decodeURIComponent(e.location.search.slice(1));return t.state={results:r.trim().length>2?_(e.data.allFile.edges,r.toLowerCase()):[],searchText:r},t}return a(n,t),l(n,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"renderMain",value:function(){var t=this;return e.createElement("div",{css:S.container},e.createElement("div",{css:S.searchBar},"Search",e.createElement("input",{ref:function(e){return t.input=e},css:S.searchInput,onChange:function(e){return t.setText(e.target.value)},value:this.state.searchText,type:"text"})),e.createElement("div",{css:S.results},this.state.results.slice(0,10).map(function(t){return e.createElement("div",{key:t.relativePath,css:S.result},e.createElement(v.default,{css:S.resultTitle,to:(0,p.fixPath)(t.relativePath)},"â€£ ",t.title),e.createElement("div",{css:S.resultBody,dangerouslySetInnerHTML:{__html:t.html}}))})))}},{key:"render",value:function(){var t=this.props.pathContext,n=t.section,r=t.sectionTitle,o=this.props.data.allFile;return e.createElement("div",null,e.createElement(d.default,{title:r+" Search"}),e.createElement(f.default,{backgroundColor:g.accent,css:{color:"white"}},e.createElement(x.default,{inverted:!0}),e.createElement("div",{css:{alignItems:"center"}},e.createElement("h1",null,e.createElement(v.default,{css:S.topLink,to:"/"+n},r)))),e.createElement(f.default,{css:S.contentSection},e.createElement("div",{css:S.sidebar},e.createElement(m.default,{current:n+"/search",search:"/"+n+"/search",root:(0,p.constructTree)(n,o.edges.map(function(e){return e.node}))})),this.renderMain()))}}]),n}(s.default.Component),P=function(){var e=this;this.setText=function(t){window.history.replaceState({},document.title,window.location.pathname+"?"+t),e.setState({searchText:t,results:t.trim().length>2?_(e.props.data.allFile.edges,t.toLowerCase()):[]})}};t.default=k;var S={container:{flex:1,flexShrink:1},editLink:{fontSize:"14px",fontWeight:"normal",lineHeight:"25px"},title:{borderBottom:"1px solid #aaa",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},contentSection:{flexDirection:"row","@media(max-width: 800px)":{flexDirection:"column"}},sidebar:{},main:{position:"relative",flex:1,padding:"2em",minWidth:0},searchBar:{flexDirection:"row",alignItems:"center",padding:10},searchInput:{flex:1,padding:"5px 10px",fontSize:18,marginLeft:10},results:{padding:10},result:{},resultTitle:{fontWeight:"bold"},resultBody:{fontSize:12,paddingLeft:20,"& .search-highlighted-result":{backgroundColor:"gold",fontWeight:"bold"},"& p":{marginBottom:10},"& .search-elided-section":{color:"#aaa",height:5,marginBottom:15,marginTop:-10},"& ul":{marginBottom:5},"& code":{fontSize:"inherit"}}};t.pageQuery="** extracted graphql fragment **"}).call(t,n("./node_modules/glamor-react/lib/index.js"))}});
//# sourceMappingURL=page-component---src-templates-search-js-e9674273a0d821018daa.js.map